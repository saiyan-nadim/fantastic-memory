{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/saiyan_n/Desktop/React Full Stack/first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saiyan_n/Desktop/React Full Stack/first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/saiyan_n/Desktop/React Full Stack/first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import GithubContext from'./githubContext';import GithubReducer from'./githubReducer';import{SEARCH_USERS,SET_LOADING,CLEAR_USERS,GET_USER,GET_REPOS}from'../types';var githubClientID;;var githubClientSecret;if(process.env.NODE_ENV!=='production'){githubClientID=process.env.REACT_APP_GITHUB_CLIENT_ID;githubClientSecret=process.env.REACT_APP_GITHUB_CLIENT_SECRET;}else{githubClientID=process.env.GITHUB_CLIENT_ID;githubClientSecret=process.env.GITHUB_CLIENT_SECRET;}var GithubState=function GithubState(props){var initialState={users:[],user:{},repos:[],loading:false};var _useReducer=useReducer(GithubReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Search Users\nvar SearchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading();_context.next=3;return axios.get(\"https://api.github.com/search/users?q=\".concat(text,\"&client_id=\").concat(githubClientID,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context.sent;dispatch({type:SEARCH_USERS,payload:res.data.items});case 5:case\"end\":return _context.stop();}}},_callee);}));return function SearchUsers(_x){return _ref.apply(this,arguments);};}();// Get User\nvar getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading();_context2.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"?client_id=\").concat(githubClientID,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context2.sent;dispatch({type:GET_USER,payload:res.data});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getUser(_x2){return _ref2.apply(this,arguments);};}();// Get Repos\nvar getUserRepos=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading();_context3.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"/repos?per_page=5&sort=created:asc&client_id=\").concat(githubClientID,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context3.sent;dispatch({type:GET_REPOS,payload:res.data});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getUserRepos(_x3){return _ref3.apply(this,arguments);};}();//Clear Users\nvar clearUsers=function clearUsers(){return dispatch({type:CLEAR_USERS});};//Set Loading\nvar setLoading=function setLoading(){return dispatch({type:SET_LOADING});};return/*#__PURE__*/_jsx(GithubContext.Provider,{value:{users:state.users,user:state.user,repos:state.repos,loading:state.loading,SearchUsers:SearchUsers,clearUsers:clearUsers,getUser:getUser,getUserRepos:getUserRepos},children:props.children});};export default GithubState;","map":{"version":3,"sources":["/home/saiyan_n/Desktop/React Full Stack/first/src/context/Github/GithubState.js"],"names":["React","useReducer","axios","GithubContext","GithubReducer","SEARCH_USERS","SET_LOADING","CLEAR_USERS","GET_USER","GET_REPOS","githubClientID","githubClientSecret","process","env","NODE_ENV","REACT_APP_GITHUB_CLIENT_ID","REACT_APP_GITHUB_CLIENT_SECRET","GITHUB_CLIENT_ID","GITHUB_CLIENT_SECRET","GithubState","props","initialState","users","user","repos","loading","state","dispatch","SearchUsers","text","setLoading","get","res","type","payload","data","items","getUser","username","getUserRepos","clearUsers","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport GithubContext from './githubContext';\nimport GithubReducer from './githubReducer';\nimport {\n    SEARCH_USERS,\n    SET_LOADING,\n    CLEAR_USERS,\n    GET_USER,\n    GET_REPOS\n\n} from '../types';\n\nlet githubClientID;;\nlet githubClientSecret;\n\nif(process.env.NODE_ENV !== 'production') {\n    githubClientID = process.env.REACT_APP_GITHUB_CLIENT_ID;\n    githubClientSecret = process.env.REACT_APP_GITHUB_CLIENT_SECRET;\n} else {\n    githubClientID = process.env.GITHUB_CLIENT_ID;\n    githubClientSecret = process.env.GITHUB_CLIENT_SECRET;\n}\n\nconst GithubState = props => {\n    const initialState = {\n        users: [],\n        user: {},\n        repos: [],\n        loading: false\n    }\n    \n    const [state, dispatch] = useReducer(GithubReducer, initialState);\n    \n    // Search Users\n\n    const SearchUsers = async text => {\n        setLoading();\n         \n         const res = await axios.get(`https://api.github.com/search/users?q=${text}&client_id=${githubClientID}&client_secret=${githubClientSecret}`);\n        \n       dispatch({\n           type: SEARCH_USERS,\n           payload: res.data.items\n       })\n         \n       };\n\n\n    // Get User\n\n    const getUser = async username => {\n        setLoading();\n         \n     \n         const res = await axios.get(`https://api.github.com/users/${username}?client_id=${githubClientID}&client_secret=${githubClientSecret}`);\n        dispatch({\n            type: GET_USER,\n            payload: res.data\n        })\n       };\n     \n    // Get Repos\n\n    const getUserRepos = async username => {\n        setLoading();\n        \n    \n        const res = await axios.get(`https://api.github.com/users/${username}/repos?per_page=5&sort=created:asc&client_id=${githubClientID}&client_secret=${githubClientSecret}`);\n       \n       dispatch({\n           type: GET_REPOS,\n           payload: res.data\n       })\n      };\n    //Clear Users\n    \n    const clearUsers = () => dispatch({ type: CLEAR_USERS });\n    \n    //Set Loading\n       const setLoading = () => dispatch({ type: SET_LOADING })\n\n    return (\n     <GithubContext.Provider\n    value={{\n        users: state.users,\n        user: state.user,\n        repos: state.repos,\n        loading: state.loading,\n        SearchUsers,\n        clearUsers,\n        getUser,\n        getUserRepos\n    }}\n    >\n        {props.children}\n\n    </GithubContext.Provider>\n );\n};\n\nexport default GithubState;"]},"metadata":{},"sourceType":"module"}